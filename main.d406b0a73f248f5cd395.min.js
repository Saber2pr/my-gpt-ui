(()=>{"use strict";var e,t,n,r={70980:(e,t,n)=>{n(86520);var r=n(24759),a=(n(49517),n(92994)),o=(n(67902),n(73172)),i=(n(99359),n(69038)),l=n(76031),c=n.n(l),u=n(67627),s=n.n(u),d=n(42295),f=n.n(d),p=n(35466),m=n(46116),h=n(72465),v=n(92862),y=n(56410),b=n(30578);function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),E(this,"events",{})}var t,n;return t=e,(n=[{key:"addEventListener",value:function(e,t){var n=this.events[e]||[];n.push(t),this.events[e]=n}},{key:"removeEventListener",value:function(e,t){var n=this.events[e]||[],r=n.indexOf(t);n.splice(r,1)}},{key:"dispatch",value:function(e,t){var n,r=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){l=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(l)throw o}}}}(this.events[e]||[]);try{for(r.s();!(n=r.n()).done;)(0,n.value)(t)}catch(e){r.e(e)}finally{r.f()}}}])&&x(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();E(w,"instance",new w);var k="thread-set-title";function O(e){return new j(e)}function P(e){var t,n;function r(t,n){try{var o=e[t](n),i=o.value,l=i instanceof j;Promise.resolve(l?i.wrapped:i).then((function(e){l?r("return"===t?"return":"next",e):a(o.done?"return":"normal",e)}),(function(e){r("throw",e)}))}catch(e){a("throw",e)}}function a(e,a){switch(e){case"return":t.resolve({value:a,done:!0});break;case"throw":t.reject(a);break;default:t.resolve({value:a,done:!1})}(t=t.next)?r(t.key,t.arg):n=null}this._invoke=function(e,a){return new Promise((function(o,i){var l={key:e,arg:a,resolve:o,reject:i,next:null};n?n=n.next=l:(t=n=l,r(e,a))}))},"function"!=typeof e.return&&(this.return=void 0)}function j(e){this.wrapped=e}function C(e){var t,n,r,a=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,r=Symbol.iterator);a--;){if(n&&null!=(t=e[n]))return t.call(e);if(r&&null!=(t=e[r]))return new S(t.call(e));n="@@asyncIterator",r="@@iterator"}throw new TypeError("Object is not async iterable")}function S(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then((function(e){return{value:e,done:t}}))}return S=function(e){this.s=e,this.n=e.next},S.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?Promise.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?Promise.reject(e):t(n.apply(this.s,arguments))}},new S(e)}P.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},P.prototype.next=function(e){return this._invoke("next",e)},P.prototype.throw=function(e){return this._invoke("throw",e)},P.prototype.return=function(e){return this._invoke("return",e)};var T=(0,p.createContext)(null),Z=p.createContext({});function I(e){var t=e.children,n=(0,p.useContext)(T),r=p.useContext(Z),a=(0,v.Z)(function(e,t){return{run:function(n){var r,a=n.messages;return n.abortSignal,(r=regeneratorRuntime.mark((function n(){var r,o,i,l,c,u,s,d,f,p,m,h,v,y;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=a.map((function(e){return{role:e.role,content:e.content[0].text}})),!t){n.next=5;break}return n.next=4,O(t(r,e));case 4:r=n.sent;case 5:return n.next=7,O(e.chat.completions.create({messages:r,temperature:1,stream:!0}));case 7:o=n.sent,i="",l=!1,c=!1,n.prev=11,s=C(o);case 13:return n.next=15,O(s.next());case 15:if(!(l=!(d=n.sent).done)){n.next=23;break}return p=d.value,i+=(null===(f=p.choices[0])||void 0===f?void 0:f.delta.content)||"",n.next=20,{status:{type:"running"},content:[{text:i,type:"text"}]};case 20:l=!1,n.next=13;break;case 23:n.next=29;break;case 25:n.prev=25,n.t0=n.catch(11),c=!0,u=n.t0;case 29:if(n.prev=29,n.prev=30,!l||null==s.return){n.next=34;break}return n.next=34,O(s.return());case 34:if(n.prev=34,!c){n.next=37;break}throw u;case 37:return n.finish(34);case 38:return n.finish(29);case 39:return n.next=41,{status:{type:"complete",reason:"stop"},content:[{text:i,type:"text"}]};case 41:if(1!==a.length){n.next=53;break}return n.prev=42,n.next=45,O(e.chat.completions.create({messages:[{role:"system",content:"You are a title generation assistant. Please summarize a short title (no more than 10 words) based on the user's input, without punctuation."},{role:"user",content:a[0].content[0].text}],temperature:.5}));case 45:v=n.sent,(y=null===(m=v.choices[0])||void 0===m||null===(h=m.message.content)||void 0===h?void 0:h.trim())&&w.instance.dispatch(k,{data:y}),n.next=53;break;case 50:n.prev=50,n.t1=n.catch(42),console.error("Failed to generate summary title:",n.t1);case 53:case"end":return n.stop()}}),n,null,[[11,25,29,39],[30,,34,38],[42,50]])})),function(){return new P(r.apply(this,arguments))})()}}}(n,r.onBeforeChat),{adapters:{speech:new y.i}});return p.createElement(b.y,{runtime:a},t)}var A=n(39829),z=n.n(A),M=n(12748),_=n.n(M),R=n(443),L=n.n(R),H=n(11242),N=n.n(H),W=n(59161),F=n.n(W),D=n(33174),B=n.n(D),Y=n(11947),U=n.n(Y),G=n(66670),X=n.n(G),$=(n(58890),n(79827)),q=n(32449),V=n.n(q),J=n(27674),K=n.n(J),Q=n(45434),ee=n.n(Q),te=(n(95316),n(95132)),ne=(n(17377),n(96044)),re=n(39674),ae=n.n(re),oe=(n(2284),n(52190)),ie=n(94360),le=n(35873),ce=n(948),ue=n(47167),se=n(98479),de=n(53830),fe=n(99228),pe=n(81755),me=n(4708),he=n(60226),ve=n(13912),ye=n(64659),be=n(6921),ge=n(24400),xe=n(21668),Ee=n(63644),we=n(12509),ke=n(19578),Oe=n(65631),Pe=n(87810),je=n(28923),Ce=n(8854),Se=n(30265),Te=n(3248),Ze=n(76907),Ie=n(11001),Ae=n(14029),ze=(n(63320),n(3016)),Me=n(35694),_e=n(80473),Re=n(18467),Le=n(93217),He=n(73150),Ne=n.n(He);function We(e){return function(e){if(Array.isArray(e))return Fe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Fe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Fe(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var De,Be,Ye,Ue=n(93591),Ge=n(57293),Xe=n(76987),$e=n(20031),qe=n(31947),Ve=n(88549),Je=Ve.ZP.div(De||(Be=["\n  position: relative;\n  max-width: 100%;\n  overflow: hidden;\n  border-radius: 8px;\n  margin: 8px 0;\n\n  pre {\n    margin: 0 !important;\n    max-width: 100%;\n    overflow: auto !important;\n    white-space: pre-wrap !important;\n    word-break: break-all !important;\n  }\n\n  .Paste {\n    position: absolute;\n    top: 0.5rem;\n    right: 0.5rem;\n    color: rgb(173, 173, 173);\n    opacity: 0.5;\n    cursor: pointer;\n\n    &:hover {\n      opacity: 1;\n    }\n  }\n"],Ye||(Ye=Be.slice(0)),De=Object.freeze(Object.defineProperties(Be,{raw:{value:Object.freeze(Ye)}})))),Ke=["children","className"];var Qe=Re.Z,et=function(e,t){return Qe.registerLanguage(e,t)};et("tsx",Xe.Z),et("hs",Ge.Z),et("cpp",Ue.Z),et("go",$e.Z),et("python",qe.Z);var tt,nt,rt,at,ot=function(e){var t,n,r,a=e.children,o=e.className,i=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,Ke),l=null==i||null===(t=i.node)||void 0===t||null===(n=t.position)||void 0===n||null===(r=n.start)||void 0===r?void 0:r.line,c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){e.on("success",(function(){}))},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=(0,p.useRef)(),a=(0,p.useRef)();return(0,p.useEffect)((function(){var n="Clipboard-Target-".concat(e||Date.now());if(r.current){r.current.setAttribute("data-clipboard-target","#".concat(n)),a.current?a.current.id=n:r.current.id=n;var o=new(Ne())(r.current);return t&&t(o),function(){return o.destroy()}}}),[].concat(We(n),[e])),{button:r,target:a}}("".concat(l));if(/^language-/.test(o)&&a){var u=o.replace(/^language-/,"");return p.createElement(Je,null,p.createElement("div",{className:"Paste",ref:c.button},p.createElement(B(),null)),p.createElement("div",{ref:c.target},p.createElement(Qe,{language:u,style:Le.Z},String(a).trim())))}return p.createElement(p.Fragment,null,a)},it={"zh-CN":{assistantTitle:"AI 助手",newChat:"新对话",tabChat:"对话",tabHistory:"历史列表",loadingModel:"正在初始化模型...",loadingTip:"首次加载模型可能需要较长时间，请耐心等待",noHistory:"暂无历史对话",defaultWelcome:"有什么可以帮忙的？",defaultPlaceholder:"给 GPT 发送消息",defaultEmpty:"我是 AI，可以回答你的问题，请在下方输入框输入你的需求～",cancel:"取消",send:"发送",thinking:"思考中",newChatFallback:"新对话"},"en-US":{assistantTitle:"AI Assistant",newChat:"New Chat",tabChat:"Chat",tabHistory:"History",loadingModel:"Initializing model...",loadingTip:"First load may take a while, please wait patiently",noHistory:"No history",defaultWelcome:"How can I help you?",defaultPlaceholder:"Send a message to GPT",defaultEmpty:"I am an AI, I can answer your questions. Please enter your needs in the input box below~",cancel:"Cancel",send:"Send",thinking:"Thinking...",newChatFallback:"New Chat"}},lt=function(){var e=(0,p.useContext)(Z).locale||"zh-CN",t=it[e]||it["zh-CN"];return{t:function(e){return t[e]||e},locale:e}},ct=function(e){var t,n=lt().t,r=null==e||null===(t=e.status)||void 0===t?void 0:t.type,a=null==e?void 0:e.text;return"running"!==r||a?p.createElement("div",{style:{marginTop:6,maxWidth:"100%",overflow:"hidden",wordBreak:"break-word"}},p.createElement(_e.y,{remarkPlugins:[Me.Z],components:{code:ot}})):p.createElement(ze.default.Node,{active:!0,style:{width:100,borderRadius:14,height:"38px"}},n("thinking"))},ut=(0,p.memo)(ct);function st(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var dt=Ve.ZP.div(tt||(tt=st(["\n  box-sizing: border-box;\n  white-space: pre-wrap;\n  word-break: break-word;\n  background-color: #eff6ff;\n  border-radius: 14px;\n  padding: 8px 20px;\n\n  & > p {\n    margin-bottom: 0;\n  }\n"]))),ft=(0,Ve.ZP)(te.default)(nt||(nt=st(["\n  position: sticky;\n  bottom: 0;\n  padding-top: 16px;\n  background-color: #fff;\n  padding: 0 24px;\n  & > div:nth-child(2) {\n    flex-grow: 1;\n  }\n"]))),pt=(0,Ve.ZP)(te.default)(rt||(rt=st(["\n  width: 100%;\n  & > div:nth-child(1) {\n    flex-grow: 1;\n  }\n"]))),mt=(0,Ve.ZP)(we.g)(at||(at=st(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  width: 100%;\n  flex-grow: 1;\n  padding: 10px;\n  background-color: #f7f7f8; /* 类似 ChatGPT 的浅背景 */\n  border-radius: 12px;\n  border: 1px solid #d1d5db; /* 边框颜色 */\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1); /* 微妙的阴影效果 */\n  transition: border-color 0.3s ease; /* 动画效果 */\n  outline: none;\n  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n  font-size: 16px;\n  color: #333;\n  min-height: 40px;\n  max-height: 200px;\n  resize: none;\n  transition: background-color 0.5s ease;\n  overflow-y: auto;\n\n  &:focus {\n    background-color: #fff;\n    border-color: #40a9ff;\n  }\n"]))),ht=["className"];function vt(){return vt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vt.apply(this,arguments)}function yt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yt(Object(n),!0).forEach((function(t){gt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function gt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var xt=function(){var e=(0,p.useContext)(Z),t=lt().t;return p.createElement(je.u,{style:{height:"100%"}},p.createElement(Ce.W,{style:{height:"100%",overflowY:"scroll"}},p.createElement("div",{style:{display:"flex",flexDirection:"column",minHeight:"100%"}},p.createElement("div",{style:{flexGrow:1,paddingBottom:24}},p.createElement("div",{style:{padding:"0px 24px"}},p.createElement(wt,null),p.createElement(Se.v,{components:{UserMessage:Ct,EditComposer:Tt,AssistantMessage:Zt}}),p.createElement(Te.M,{empty:!0},p.createElement(oe.default,{style:{margin:"16px 0px",maxWidth:"100%"},type:"warning",message:e.emptyMessage||t("defaultEmpty")})))),p.createElement(ft,{style:{width:"100%",boxSizing:"border-box",paddingBottom:16}},p.createElement(Et,null),p.createElement(Ot,null)))))},Et=function(){return p.createElement(Ze.X,{asChild:!0},p.createElement(i.Z,{style:{width:"47px",height:"47px",borderRadius:12},type:"dashed",icon:p.createElement(ae(),null)}))},wt=function(){var e=(0,p.useContext)(Z),t=lt().t;return p.createElement(Ie.D,null,p.createElement(oe.default,{style:{maxWidth:"100%"},message:e.welcomeMessage||t("defaultWelcome")}),p.createElement(kt,null))},kt=function(){var e=(0,p.useContext)(Z),t=lt(),n=(t.t,t.locale),r=e.suggestions||("zh-CN"===n?["如何用 Typescript 实现 Helloworld？","物联网是什么？"]:["How to implement Helloworld in Typescript?","What is IoT?"]);return p.createElement(te.default,{style:{marginTop:24}},r.map((function(e,t){return p.createElement(Ae.w,{key:t,prompt:e,method:"replace",style:{border:"none",padding:0},autoSend:!0},p.createElement(ne.Z,{hoverable:!0},e))})))},Ot=function(){var e=(0,p.useContext)(Z),t=lt().t;return p.createElement(ge.d,null,p.createElement(pt,null,p.createElement(mt,{rows:1,autoFocus:!0,placeholder:e.placeholder||t("defaultPlaceholder")}),p.createElement(jt,null)))},Pt=function(){var e=(0,ie.Z)({continuous:!0,useLegacyResults:!1}),t=e.error,n=e.interimResult,r=e.isRecording,a=(e.results,e.startSpeechToText),o=e.stopSpeechToText,l=(0,le.$u)();return(0,p.useEffect)((function(){n&&l.composer.setText(n)}),[n]),t?(console.log("Web Speech API is not available in this browser.",t),p.createElement(p.Fragment,null)):p.createElement(i.Z,{style:{width:"47px",height:"47px",borderRadius:12},onClick:function(){r?o():a()},icon:r?p.createElement(f(),null):p.createElement(ee(),null)})},jt=function(){return p.createElement(p.Fragment,null,p.createElement(Te.M,{running:!1},p.createElement(te.default,null,p.createElement(xe.n,{asChild:!0},p.createElement(i.Z,{style:{width:"47px",height:"47px",borderRadius:12},icon:p.createElement(K(),null)})),p.createElement(Pt,null))),p.createElement(Te.M,{running:!0},p.createElement(Ee.y,{asChild:!0},p.createElement(i.Z,{style:{width:"47px",height:"47px",borderRadius:12},icon:p.createElement(V(),null)}))))},Ct=function(){return p.createElement(ke.i,{style:{display:"flex",justifyContent:"flex-end",marginTop:16}},p.createElement(te.default,{align:"start"},p.createElement("div",null,p.createElement(te.default,null,p.createElement(St,null),p.createElement(dt,null,p.createElement(Oe.Y,null))),p.createElement(At,{style:{marginTop:8}})),p.createElement($.ZP,null,"Y")))},St=function(){return p.createElement(ce.P,{hideWhenRunning:!0,autohide:"not-last"},p.createElement(ue.h,{asChild:!0},p.createElement(X(),null)))},Tt=function(){var e=lt().t;return p.createElement(ge.d,{style:{padding:"16px 8px"}},p.createElement(we.g,{style:gt({width:"100%",height:300,boxSizing:"border-box",whiteSpace:"pre-wrap",wordBreak:"break-word",backgroundColor:"#eff6ff",borderRadius:"14px",border:"none",padding:"8px 20px"},"borderRadius","14px")}),p.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},p.createElement(te.default,null,p.createElement(Ee.y,{asChild:!0},p.createElement(i.Z,{type:"default",size:"small"},e("cancel"))),p.createElement(xe.n,{asChild:!0},p.createElement(i.Z,{type:"primary",size:"small"},e("send"))))))},Zt=function(){return p.createElement(ke.i,{style:{marginTop:16}},p.createElement(te.default,{align:"start"},p.createElement($.ZP,null,"AI"),p.createElement("div",{style:{display:"inline-block"}},p.createElement(Oe.Y,{components:{Text:ut}}),p.createElement(It,null),p.createElement(At,null))))},It=function(){return p.createElement(ce.P,{hideWhenRunning:!0,autohide:"not-last",autohideFloat:"single-branch",style:{marginTop:8}},p.createElement(te.default,null,p.createElement(se.v,{asChild:!0},p.createElement("div",{style:{cursor:"pointer"}},p.createElement(Pe.m,{copied:!0},p.createElement(U(),null)),p.createElement(Pe.m,{copied:!1},p.createElement(B(),null)))),p.createElement(de.g,{asChild:!0},p.createElement(F(),null)),p.createElement(Pe.m,{speaking:!0},p.createElement(fe.I,{asChild:!0},p.createElement(N(),null))),p.createElement(Pe.m,{speaking:!1},p.createElement(pe.p,{asChild:!0},p.createElement(L(),null)))))},At=function(e){e.className;var t=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,ht);return p.createElement(me.v,vt({hideWhenSingleBranch:!0,style:bt({marginTop:8},t.style||{})},t),p.createElement(he.L,{asChild:!0},p.createElement(_(),null)),p.createElement("span",null,p.createElement(ve.N,null)," / ",p.createElement(ye.C,null)),p.createElement(be.v,{asChild:!0},p.createElement(z(),null)))},zt=n(88327),Mt=n.n(zt),_t=(n(37472),n(87654)),Rt=n(86040),Lt=n(14042),Ht=n(32629),Nt=n(33134),Wt=n(246),Ft=n(38666),Dt=n(43449),Bt=n(25467);function Yt(){return Yt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yt.apply(this,arguments)}var Ut=function(e){var t=e.onItemClick;return p.createElement(Ht.k,{style:{display:"flex",flexDirection:"column"}},p.createElement(Gt,{onItemClick:t}))},Gt=function(e){var t=e.onItemClick,n=(0,Rt.zx)().threads.getState().threads,r=lt().t;return p.createElement(p.Fragment,null,p.createElement(Nt.h,{components:{ThreadListItem:function(e){return p.createElement(Xt,Yt({},e,{onClick:t}))}}}),0===n.length&&p.createElement(_t.Z,{description:r("noHistory"),style:{marginTop:48}}))},Xt=function(e){var t=e.onClick;return p.createElement(Wt.E,{className:"ant-btn",style:{marginTop:"8px",display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%",padding:"8px 12px",height:"auto"}},p.createElement(Ft.A,{onClick:t,style:{border:"none",padding:0,background:"transparent",flex:1,overflow:"hidden",textOverflow:"ellipsis",display:"block",textAlign:"left",cursor:"pointer"}},p.createElement($t,null)),p.createElement(qt,null))},$t=function(){var e=(0,Lt.VJ)(),t=lt().t;return(0,p.useEffect)((function(){var t=function(t){e.getState().isMain&&e.rename(t.data)};return w.instance.addEventListener(k,t),function(){w.instance.removeEventListener(k,t)}}),[e]),p.createElement(Dt.S,{fallback:p.createElement("div",null,t("newChatFallback"))})},qt=function(){return p.createElement(Bt.s,{asChild:!0},p.createElement(Mt(),null))},Vt=n(92759);function Jt(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}var Kt,Qt,en,tn,nn,rn,an=function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var n,r,a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.selectedModel,r=void 0===n?"Llama-3.1-8B-Instruct-q4f32_1-MLC":n,a=t.initProgressCallback,e.next=3,(0,Vt.DN)(r,{initProgressCallback:a});case 3:return o=e.sent,e.abrupt("return",o);case 5:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Jt(o,r,a,i,l,"next",e)}function l(e){Jt(o,r,a,i,l,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}();function on(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Ve.ZP.div(Kt||(Kt=on(["\n  padding: 48px;\n"]))),Ve.ZP.div(Qt||(Qt=on(["\n  margin: 48px;\n  border-radius: 4px;\n  border: 1px solid #e5e5e5;\n  display: flex;\n  height: 600px;\n  background-color: #fff;\n"]))),Ve.ZP.div(en||(en=on(["\n  display: none;\n"]))),Ve.ZP.div(tn||(tn=on(["\n  padding: 12px 0px;\n  flex-grow: 1;\n"]))),Ve.ZP.div(nn||(nn=on(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100%;\n  font-size: 18px;\n  color: #999;\n"])));var ln,cn,un,sn,dn,fn,pn,mn,hn=Ve.ZP.div(rn||(rn=on(["\n  position: fixed;\n  width: 56px;\n  height: 56px;\n  border-radius: 28px;\n  background: linear-gradient(135deg, #1890ff 0%, #0050b3 100%);\n  box-shadow: 0 4px 16px rgba(24, 144, 255, 0.35);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  cursor: grab;\n  z-index: 1000;\n  color: #fff;\n  font-size: 24px;\n  transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);\n  border: 1px solid rgba(255, 255, 255, 0.1);\n  backdrop-filter: blur(4px);\n\n  &:active {\n    cursor: grabbing;\n  }\n\n  &:hover {\n    transform: scale(1.1) rotate(5deg);\n    background: linear-gradient(135deg, #40a9ff 0%, #096dd9 100%);\n    box-shadow: 0 8px 24px rgba(24, 144, 255, 0.45);\n  }\n\n  &::after {\n    content: '';\n    position: absolute;\n    top: -2px;\n    left: -2px;\n    right: -2px;\n    bottom: -2px;\n    border-radius: 30px;\n    background: linear-gradient(135deg, rgba(255, 255, 255, 0.4) 0%, rgba(255, 255, 255, 0) 100%);\n    opacity: 0.5;\n    pointer-events: none;\n  }\n\n  .anticon {\n    filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.2));\n  }\n"])));function vn(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var yn=Ve.ZP.div(ln||(ln=vn(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding-right: 24px;\n"]))),bn=Ve.ZP.div(cn||(cn=vn(["\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  padding: 0 40px;\n"]))),gn=Ve.ZP.div(un||(un=vn(["\n  margin-top: 24px;\n  font-size: 16px;\n  color: #666;\n  text-align: center;\n"]))),xn=Ve.ZP.div(sn||(sn=vn(["\n  margin-top: 8px;\n  font-size: 12px;\n  color: #999;\n"]))),En=Ve.ZP.div(dn||(dn=vn(["\n  display: ",";\n  height: calc(100vh - 160px);\n"])),(function(e){return e.active?"block":"none"})),wn=Ve.ZP.div(fn||(fn=vn(["\n  display: ",";\n  height: calc(100vh - 160px);\n  overflow-y: auto;\n"])),(function(e){return e.active?"block":"none"})),kn=Ve.ZP.div(pn||(pn=vn(["\n  padding: 12px 0;\n  text-align: center;\n  font-size: 12px;\n  color: #bfbfbf;\n  border-top: 1px solid #f0f0f0;\n  background-color: #fff;\n  z-index: 1;\n"]))),On=Ve.ZP.a(mn||(mn=vn(["\n  color: #bfbfbf;\n  text-decoration: underline;\n"])));function Pn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return jn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?jn(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Cn=function(e){var t=e.config,n=Pn((0,p.useState)(!1),2),r=n[0],a=n[1],o=Pn((0,p.useState)("chat"),2),i=o[0],l=o[1];return p.createElement(Z.Provider,{value:t},p.createElement(Sn,{open:r,setOpen:a,activeTab:i,setActiveTab:l,config:t}))},Sn=function(e){var t=e.open,n=e.setOpen,l=e.activeTab,u=e.setActiveTab,d=e.config,m=lt().t,v=Pn((0,p.useState)(m("loadingModel")),2),y=v[0],b=v[1],g=Pn((0,p.useState)(0),2),x=g[0],E=g[1],w=Pn((0,p.useState)(!1),2),k=w[0],O=w[1],P=Pn((0,p.useState)(null),2),j=P[0],C=P[1],S=d.initialPosition||{x:window.innerWidth-100,y:window.innerHeight-100},Z=Pn((0,p.useState)(S),2),A=Z[0],z=Z[1],M=Pn((0,p.useState)(!1),2),_=M[0],R=M[1],L=p.useRef({x:0,y:0}),H=p.useRef(S),N=p.useRef({width:window.innerWidth,height:window.innerHeight});return(0,p.useEffect)((function(){var e=function(){var e=window.innerWidth,t=window.innerHeight;z((function(n){var r=n.x>N.current.width/2,a=n.x;if(r){var o=N.current.width-n.x;a=e-o}var i=n.y>N.current.height/2,l=n.y;if(i){var c=N.current.height-n.y;l=t-c}var u=Math.max(20,Math.min(a,e-84)),s=Math.max(20,Math.min(l,t-84));return H.current={x:u,y:s},{x:u,y:s}})),N.current={width:e,height:t}};return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),(0,p.useEffect)((function(){j||k||b(m("loadingModel"))}),[m,j,k]),(0,p.useEffect)((function(){!t||j||k||(O(!0),an({selectedModel:"Qwen2.5-Coder-0.5B-Instruct-q4f16_1-MLC",initProgressCallback:function(e){b(e.text),E(Math.round(100*e.progress)),1===e.progress&&O(!1)}}).then((function(e){C(e)})).catch((function(e){console.error("Failed to load LLM engine:",e),O(!1)})))}),[t,j,k]),p.createElement(T.Provider,{value:j},p.createElement(I,null,p.createElement(hn,{onClick:function(){_||n(!0)},onMouseDown:function(e){R(!1),L.current={x:e.clientX,y:e.clientY};var t=function(e){var t=Math.abs(e.clientX-L.current.x),n=Math.abs(e.clientY-L.current.y);if((t>5||n>5)&&R(!0),_||t>5||n>5){var r=e.clientX-32,a=e.clientY-32;z({x:r,y:a}),H.current={x:r,y:a}}};document.addEventListener("mousemove",t),document.addEventListener("mouseup",(function e(){document.removeEventListener("mousemove",t),document.removeEventListener("mouseup",e);var n=window.innerWidth/2,r=H.current.x<n?20:window.innerWidth-84,a=H.current.y;a<20&&(a=20),a>window.innerHeight-84&&(a=window.innerHeight-84),z({x:r,y:a}),H.current={x:r,y:a}}))},style:{left:A.x,top:A.y,bottom:"auto",right:"auto",transition:_?"none":"all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)",userSelect:"none",touchAction:"none",opacity:t?0:1,pointerEvents:t?"none":"auto",transform:t?"scale(0) rotate(-20deg)":_?"scale(1.05)":"scale(1)"}},k&&!j?p.createElement(f(),null):p.createElement(s(),null)),p.createElement(r.Z,{title:p.createElement(yn,null,p.createElement("span",null,m("assistantTitle")),!k&&j&&p.createElement(h.R,{asChild:!0},p.createElement(i.Z,{type:"text",icon:p.createElement(c(),null),onClick:function(){return u("chat")}},m("newChat")))),placement:"right",onClose:function(){n(!1)},visible:t,width:600,bodyStyle:{padding:"0 16px",display:"flex",flexDirection:"column"}},k||!j?p.createElement(bn,null,p.createElement(o.Z,{type:"circle",percent:x,strokeColor:{"0%":"#108ee9","100%":"#87d068"}}),p.createElement(gn,null,y),p.createElement(xn,null,m("loadingTip"))):p.createElement(p.Fragment,null,p.createElement(a.default,{activeKey:l,onChange:u,items:[{key:"chat",label:m("tabChat")},{key:"history",label:m("tabHistory")}]}),p.createElement("div",{style:{flex:1,position:"relative",overflow:"hidden"}},p.createElement(En,{active:"chat"===l},p.createElement(xt,null)),p.createElement(wn,{active:"history"===l},p.createElement(Ut,{onItemClick:function(){return u("chat")}})))),p.createElement(kn,null,"Powerd by ",p.createElement(On,{href:"https://github.com/Saber2pr/my-gpt-ui",target:"_blank",rel:"noreferrer"},"my-gpt-ui")))))};var Tn=document.createElement("h1");Tn.textContent="Click the bottom right sidebar button to open the AI assistant",document.body.append(Tn),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t||document.body,r=document.createElement("div");r.id=e.containerId||"ai-assistant-root",n.appendChild(r),m.render(p.createElement(Cn,{config:e}),r)}({locale:"en-US"})}},a={};function o(e){var t=a[e];if(void 0!==t)return t.exports;var n=a[e]={exports:{}};return r[e].call(n.exports,n,n.exports,o),n.exports}o.m=r,e=[],o.O=(t,n,r,a)=>{if(!n){var i=1/0;for(s=0;s<e.length;s++){for(var[n,r,a]=e[s],l=!0,c=0;c<n.length;c++)(!1&a||i>=a)&&Object.keys(o.O).every((e=>o.O[e](n[c])))?n.splice(c--,1):(l=!1,a<i&&(i=a));if(l){e.splice(s--,1);var u=r();void 0!==u&&(t=u)}}return t}a=a||0;for(var s=e.length;s>0&&e[s-1][2]>a;s--)e[s]=e[s-1];e[s]=[n,r,a]},o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},n=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,o.t=function(e,r){if(1&r&&(e=this(e)),8&r)return e;if("object"==typeof e&&e){if(4&r&&e.__esModule)return e;if(16&r&&"function"==typeof e.then)return e}var a=Object.create(null);o.r(a);var i={};t=t||[null,n({}),n([]),n(n)];for(var l=2&r&&e;"object"==typeof l&&!~t.indexOf(l);l=n(l))Object.getOwnPropertyNames(l).forEach((t=>i[t]=()=>e[t]));return i.default=()=>e,o.d(a,i),a},o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e={179:0};o.O.j=t=>0===e[t];var t=(t,n)=>{var r,a,[i,l,c]=n,u=0;if(i.some((t=>0!==e[t]))){for(r in l)o.o(l,r)&&(o.m[r]=l[r]);if(c)var s=c(o)}for(t&&t(n);u<i.length;u++)a=i[u],o.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return o.O(s)},n=self.webpackChunk_saber2pr_ai_assistant=self.webpackChunk_saber2pr_ai_assistant||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var i=o.O(void 0,[216],(()=>o(70980)));i=o.O(i)})();